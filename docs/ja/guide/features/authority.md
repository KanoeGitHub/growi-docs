# ページの閲覧・編集権限を設定する

ページに対して、権限のある人しか閲覧・編集できないように設定できる機能を搭載しています。

ページに対して設定可能な権限について説明します。

## ページに対する閲覧・編集権限の設定方法

ページの編集モードにて、画面右下に表示される「作成/更新」ボタンの左側の「公開」と表示されている部分の「▲」をクリックすると、以下の画像のように選択肢が表示されます。

![authority1](./images/authority1.png)

この選択肢を選択後、「作成/更新」ボタンを押下することで、閲覧・編集権限の設定がページへ適用されます。

## 閲覧・編集権限として設定できる種類

ページの閲覧・編集制限として設定できる内容は、以下のいずれかを選択可能です。

### 公開

  この設定のページに対しては閲覧・編集の制限がありません。誰でも閲覧・編集できます。デフォルトはこの設定です。

  GROWI 全体が `ログインしないと閲覧できない設定` の場合、ページが公開の設定でもログインしないと閲覧・編集できず、ページへアクセスしてもログイン画面へリダイレクトされます。ログインしているユーザーであれば誰でも閲覧・編集できます。

### リンクを知っている人のみ
  
  この設定をしたページは、ページリストやページ検索結果には出力されなくなります。

  ページの URL が分かるユーザーのみが閲覧・編集できるようになります。

  自分でもページ配置場所が分からなくなった場合は、ホーム画面の「Recently Created」からページを辿りましょう。
  
  自分が作成したページであれば、こちらのページ一覧には出力されます。

### 自分のみ

  この設定をしたページは、自分以外のユーザーは閲覧・編集できなくなります。

  自分以外のユーザーのページリストやページ検索結果に表示されるかどうかは、管理画面の ON/OFF で設定できます。(後述)

  デフォルトの管理設定では、ページリストやページ検索結果には表示されます。

### 特定のグループのみ

  この設定をしたページは、設定したグループに所属するユーザーしか閲覧・編集できなくなります。

  グループに所属していないユーザーのページリストやページ検索結果に表示されるかどうかは、管理画面の ON/OFF で設定できます。(後述)

  デフォルトの管理設定では、ページリストやページ検索結果には表示されます。

## ページに設定可能な閲覧権限

あるページ `/Page1` の配下ページには、同じ閲覧権限か、またはより強い制限となるような閲覧権限しか付けられません。(v5.0 以降)

以下の例は、`/Page1` の閲覧権限によって、配下ページである `/Page1/child` にどのような閲覧権限であれば付与可能なのかを表した表です。

| `/Page1` の閲覧権限 | `/Page1/child` に設定可能な閲覧権限 | 可能/不可能 |
|:--|:------------:|:------------:|
| 公開 | 公開 | :white_check_mark: |
| 公開 | 自分のみ | :white_check_mark: |
| 公開 | 特定グループのみ | :white_check_mark: |
| 自分のみ | 公開 | :x: |
| 自分のみ | 自分のみ | :white_check_mark: |
| 自分のみ | 特定グループのみ | :x: |
| 特定グループのみ | 公開 | :x: |
| 特定グループのみ | 自分のみ | :white_check_mark: |
| 特定グループのみ | 特定グループのみ | (グループの親子関係に依存) |


## グループ管理機能について

詳細は [こちら](/ja/admin-guide/management-cookbook/group.html)に記載しています。

### ページに「特定グループのみ」を設定した場合の指定可能グループ

「特定グループのみ」設定の場合も、配下ページには親ページと同じ閲覧権限か、またはより強い制限(メンバーの範囲の狭いグループ)となるような閲覧権限のみ可能です。

以下の例は、「社内全体」グループの子グループに「技術部」グループ、更にその子グループに「UI/UXチーム」グループを作成していた場合に、配下ページである `/Page1/child` に対しどのような閲覧権限であれば付与可能なのかを表した表です。

| `/Page1` の閲覧権限 | `/Page1/child` に設定可能な閲覧権限 | 可能/不可能 |
|:--|:------------:|:------------:|
| 特定グループのみ(技術部) | 特定グループのみ(技術部) | :white_check_mark: |
| 特定グループのみ(技術部) | 特定グループのみ(社内全体) | :x: |
| 特定グループのみ(技術部) | 特定グループのみ(UI/UXチーム) | :white_check_mark: |


## 権限が付いたページに対する検索結果の表示やリスト表示の制御

GROWI の検索結果やページリスト表示時に、閲覧・編集権限がない人にはページを表示したくないという場合は、管理メニューの`セキュリティ設定`で該当の設定のオン・オフ機能を切り替えましょう。

![security](./images/security.png)

### ページのリスト表示と検索　'自分のみ'に閲覧制限しているページ

- ON の場合

  自分以外のユーザーのページのリスト表示や検索結果として、該当の制限をしているページが表示されます。

- OFF の場合

  自分以外のユーザーのページのリスト表示や検索結果として、該当の制限をしているページが表示されません。

### ページのリスト表示と検索　特定グループに閲覧制限しているページ

- ON の場合

  グループに所属していないユーザーのページのリスト表示や検索結果として、該当の制限をしているページが表示されます。

- OFF の場合

  グループに所属していないユーザーのページのリスト表示や検索結果として、該当の制限をしているページが表示されません。

## 閲覧・編集権限をページ配下に一括で設定

ページは階層構造になっており、特定ページ配下のページ全てに対して、一括で権限管理したい場合があります。

この場合は、ページの作成/更新時に、画面右下に表示される「作成/更新」ボタンの「▲」をクリックし、「作成/更新と同時に全ての配下ページのスコープを上書き」をクリックしてください。

![authority2](./images/authority2.png)

この操作で、該当ページ配下の全てのページに対して、同じ権限設定を適用できます。

## 権限の設定例

基本的には、閲覧・編集権限が必要なページはまとめて整理して、ページ配下を一括で権限更新すると管理が簡単になります。

もしページ構成の変更に問題がなければ、権限が必要なページは以下の例のように移動しましょう。

- グループ名のページを作成する

- 該当グループのみ閲覧・編集権限を持たせたいページを、そのページ配下へ移動する

  ページの移動については [こちら](/ja/guide/features/page_operation.html)

- グループ名のページを一括で権限設定する
